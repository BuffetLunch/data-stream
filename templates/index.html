{% extends "base.html" %}
{% load staticfiles %}

{% block title %}Realtime Example{% endblock %}
{% block header_text %}Realtime Example{% endblock %}

{% block extra_head %}
    <script src="{% static "js/reconnecting-websocket.min.js" %}" type="text/javascript"></script>
{% endblock %}

{% block extra_headbar %}
    <a id="realtime" href="#" class="btn btn-secondary" data-realtime-active="False">Realtime</a>
{% endblock %}

{% block content %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb p-3">
            <li class="breadcrumb-item active" aria-current="page">Orders Latency :
                <span id="position_latency" class="text-dark">0</span> ms
            </li>
        </ol>
    </nav>
    <h3 class="text-primary p-3">Datatable with Rest API & Websockets</h3>
    <table id="data" class="table table-striped table-bordered" style="width:100%" data-server-side="true"
           data-ajax="/api/data/?format=datatables">
        <thead>
        <tr>
            <th data-data="id">id</th>
            <th data-data="instrument">Instrument</th>
            <th data-data="quantity">Quantity</th>
            <th data-data="initial_price">Initial Price</th>
        </tr>
        </thead>
    </table>

    <h3 class="text-primary p-3">Realtime Orders Monitor</h3>
    <table id="new_data" class="table table-striped table-bordered" style="width:100%">
        <thead>
        <tr>
            <th data-data="id">id</th>
            <th data-data="instrument">Instrument</th>
            <th data-data="quantity">Quantity</th>
            <th data-data="initial_price">Initial Price</th>
        </tr>
        </thead>
    </table>
{% endblock %}


{% block extra_body %}
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
    <script src="{% static 'js/index.js' %}"></script>
{% endblock %}
